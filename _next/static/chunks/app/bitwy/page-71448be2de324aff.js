(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{2330:function(e,a,r){Promise.resolve().then(r.bind(r,7467))},7467:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return G}});var t=r(7437),s=r(2265),n=r(2869),l=r(5186),i=r(6394),o=r(535),d=r(4508);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(i.f,{ref:a,className:(0,d.cn)(c(),r),...s})});u.displayName=i.f.displayName;var p=r(1027),f=r(401);let m=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(p.fC,{ref:a,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,t.jsx)(p.z$,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})})})});m.displayName=p.fC.displayName;var x=r(1569),h=r(6343),y=r(3247);r(6110);let g=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(h.mY,{ref:a,className:(0,d.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...s})});g.displayName=h.mY.displayName;let j=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,t.jsx)(h.mY.Input,{ref:a,className:(0,d.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...s})]})});j.displayName=h.mY.Input.displayName;let b=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(h.mY.List,{ref:a,className:(0,d.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...s})});b.displayName=h.mY.List.displayName;let N=s.forwardRef((e,a)=>(0,t.jsx)(h.mY.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));N.displayName=h.mY.Empty.displayName;let v=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(h.mY.Group,{ref:a,className:(0,d.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...s})});v.displayName=h.mY.Group.displayName,s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(h.mY.Separator,{ref:a,className:(0,d.cn)("-mx-1 h-px bg-border",r),...s})}).displayName=h.mY.Separator.displayName;let w=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(h.mY.Item,{ref:a,className:(0,d.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r),...s})});w.displayName=h.mY.Item.displayName;var z=r(1381);let k=z.fC,R=z.xz,S=s.forwardRef((e,a)=>{let{className:r,align:s="center",sideOffset:n=4,...l}=e;return(0,t.jsx)(z.h_,{children:(0,t.jsx)(z.VY,{ref:a,align:s,sideOffset:n,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});S.displayName=z.VY.displayName;var C=r(4156);let V=["Scenariusz 1: Jatka pod Argalis","Scenariusz 2: Pamiątka po tacie","Scenariusz 3: Przeprawa przez Limnallę","Scenariusz 4: Polowanie na smoka","Scenariusz 5: Tajemnica G\xf3r Czarnych","Scenariusz 6: Złoto dla Zuchwałych"];function P(e){var a,r;let{onAddResult:i,initialBattle:o}=e,{entries:c}=(0,x.y)(),[p,h]=(0,s.useState)({player1:"",player2:"",winner:"draw",player1VP:0,player2VP:0,hasReport:!1,scenario:V[0]}),[y,z]=(0,s.useState)(!1),[P,_]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{o&&h(o)},[o]),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(p),o||h({player1:"",player2:"",winner:"draw",player1VP:0,player2VP:0,hasReport:!1,scenario:V[0]})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{htmlFor:"player1",children:"Gracz 1"}),(0,t.jsxs)(k,{open:y,onOpenChange:z,children:[(0,t.jsx)(R,{asChild:!0,children:(0,t.jsxs)(n.z,{variant:"outline",role:"combobox","aria-expanded":y,className:"w-full justify-between",children:[p.player1?(0,d.y)((null===(a=c.find(e=>e.player===p.player1))||void 0===a?void 0:a.player)||""):"Wybierz gracza 1...",(0,t.jsx)(C.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(S,{className:"w-[300px] p-0",children:(0,t.jsxs)(g,{children:[(0,t.jsx)(j,{placeholder:"Szukaj gracza..."}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{children:"Nie znaleziono gracza."}),(0,t.jsx)(v,{children:c.map(e=>(0,t.jsxs)(w,{onSelect:()=>{h({...p,player1:e.player===p.player1?"":e.player}),z(!1)},children:[(0,t.jsx)(f.Z,{className:(0,d.cn)("mr-2 h-4 w-4",p.player1===e.player?"opacity-100":"opacity-0")}),(0,d.y)(e.player)," - ",e.army]},e.id))})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{htmlFor:"player2",children:"Gracz 2"}),(0,t.jsxs)(k,{open:P,onOpenChange:_,children:[(0,t.jsx)(R,{asChild:!0,children:(0,t.jsxs)(n.z,{variant:"outline",role:"combobox","aria-expanded":P,className:"w-full justify-between",children:[p.player2?(0,d.y)((null===(r=c.find(e=>e.player===p.player2))||void 0===r?void 0:r.player)||""):"Wybierz gracza 2...",(0,t.jsx)(C.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(S,{className:"w-[300px] p-0",children:(0,t.jsxs)(g,{children:[(0,t.jsx)(j,{placeholder:"Szukaj gracza..."}),(0,t.jsxs)(b,{children:[(0,t.jsx)(N,{children:"Nie znaleziono gracza."}),(0,t.jsx)(v,{children:c.map(e=>(0,t.jsxs)(w,{onSelect:()=>{h({...p,player2:e.player===p.player2?"":e.player}),_(!1)},children:[(0,t.jsx)(f.Z,{className:(0,d.cn)("mr-2 h-4 w-4",p.player2===e.player?"opacity-100":"opacity-0")}),(0,d.y)(e.player)," - ",e.army]},e.id))})]})]})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{htmlFor:"scenario",children:"Scenariusz"}),(0,t.jsx)("select",{id:"scenario",value:p.scenario,onChange:e=>h({...p,scenario:e.target.value}),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:V.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{children:"Wynik"}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)(u,{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"radio",name:"winner",value:"player1",checked:"player1"===p.winner,onChange:()=>h({...p,winner:"player1"})}),(0,t.jsx)("span",{children:"Wygrana Gracza 1"})]}),(0,t.jsxs)(u,{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"radio",name:"winner",value:"player2",checked:"player2"===p.winner,onChange:()=>h({...p,winner:"player2"})}),(0,t.jsx)("span",{children:"Wygrana Gracza 2"})]}),(0,t.jsxs)(u,{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"radio",name:"winner",value:"draw",checked:"draw"===p.winner,onChange:()=>h({...p,winner:"draw"})}),(0,t.jsx)("span",{children:"Remis"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{htmlFor:"player1VP",children:"VP Gracza 1"}),(0,t.jsx)(l.I,{id:"player1VP",type:"number",value:p.player1VP,onChange:e=>h({...p,player1VP:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{htmlFor:"player2VP",children:"VP Gracza 2"}),(0,t.jsx)(l.I,{id:"player2VP",type:"number",value:p.player2VP,onChange:e=>h({...p,player2VP:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m,{id:"hasReport",checked:p.hasReport,onCheckedChange:e=>h({...p,hasReport:e})}),(0,t.jsx)(u,{htmlFor:"hasReport",children:"Raport z bitwy"})]}),p.hasReport&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u,{htmlFor:"reportLink",children:"Link do raportu"}),(0,t.jsx)(l.I,{id:"reportLink",type:"url",value:p.reportLink||"",onChange:e=>h({...p,reportLink:e.target.value}),placeholder:"https://facebook.com/..."})]}),(0,t.jsx)(n.z,{type:"submit",children:o?"Aktualizuj":"Dodaj wynik bitwy"})]})}var _=r(3578),Y=r(7648),I=r(5675),Z=r(8930);function G(){let[e,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(null),{entries:i}=(0,x.y)();(0,s.useEffect)(()=>{let e=localStorage.getItem("battleResults");e&&a(JSON.parse(e))},[]),(0,s.useEffect)(()=>{localStorage.setItem("battleResults",JSON.stringify(e))},[e]);let o=e=>{l(e)},c=e=>{a(a=>{let r=a.filter(a=>a.id!==e);return localStorage.setItem("battleResults",JSON.stringify(r)),r})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Bitwy"}),null===r?(0,t.jsx)(P,{onAddResult:e=>{let r={...e,id:Date.now()};a(e=>{let a=[...e,r];return localStorage.setItem("battleResults",JSON.stringify(a)),a})}}):(0,t.jsx)(P,{onAddResult:e=>{a(a=>{let r=a.map(a=>a.id===e.id?e:a);return localStorage.setItem("battleResults",JSON.stringify(r)),r}),l(null)},initialBattle:e.find(e=>e.id===r)}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(_.iA,{children:[(0,t.jsx)(_.xD,{children:(0,t.jsxs)(_.SC,{children:[(0,t.jsx)(_.ss,{children:"Gracz 1"}),(0,t.jsx)(_.ss,{children:"Gracz 2"}),(0,t.jsx)(_.ss,{children:"Scenariusz"}),(0,t.jsx)(_.ss,{children:"Zwycięzca"}),(0,t.jsx)(_.ss,{children:"VP Gracza 1"}),(0,t.jsx)(_.ss,{children:"VP Gracza 2"}),(0,t.jsx)(_.ss,{children:"Raport"}),(0,t.jsx)(_.ss,{children:"Akcje"})]})}),(0,t.jsx)(_.RM,{children:e.map(e=>(0,t.jsxs)(_.SC,{children:[(0,t.jsx)(_.pj,{children:(0,d.y)(e.player1)}),(0,t.jsx)(_.pj,{children:(0,d.y)(e.player2)}),(0,t.jsx)(_.pj,{children:e.scenario}),(0,t.jsx)(_.pj,{children:"player1"===e.winner?(0,d.y)(e.player1):"player2"===e.winner?(0,d.y)(e.player2):"Remis"}),(0,t.jsx)(_.pj,{children:e.player1VP}),(0,t.jsx)(_.pj,{children:e.player2VP}),(0,t.jsx)(_.pj,{children:e.hasReport&&e.reportLink?(0,t.jsx)(Y.default,{href:e.reportLink,target:"_blank",className:"text-blue-600 hover:underline",children:"Link do raportu"}):"Brak"}),(0,t.jsx)(_.pj,{children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>o(e.id),children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Edytuj"]}),(0,t.jsxs)(n.z,{variant:"destructive",size:"sm",onClick:()=>c(e.id),children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Usuń"]})]})})]},e.id))})]})}),(0,t.jsx)(n.z,{onClick:()=>{localStorage.setItem("battleResults",JSON.stringify(e)),alert("Wyniki bitew zostały zapisane!")},children:"Zapisz"})]})}},2869:function(e,a,r){"use strict";r.d(a,{z:function(){return d}});var t=r(7437),s=r(2265),n=r(7053),l=r(535),i=r(4508);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,a)=>{let{className:r,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,t.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:r})),ref:a,...c})});d.displayName="Button"},6110:function(e,a,r){"use strict";r.d(a,{$N:function(){return f},Be:function(){return m},Vq:function(){return o},cZ:function(){return u},fK:function(){return p}});var t=r(7437),s=r(2265),n=r(9027),l=r(2489),i=r(4508);let o=n.fC;n.xz;let d=n.h_;n.x8;let c=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(n.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});c.displayName=n.aV.displayName;let u=s.forwardRef((e,a)=>{let{className:r,children:s,...o}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(n.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o,children:[s,(0,t.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let p=e=>{let{className:a,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...r})};p.displayName="DialogHeader";let f=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(n.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});f.displayName=n.Dx.displayName;let m=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(n.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});m.displayName=n.dk.displayName},5186:function(e,a,r){"use strict";r.d(a,{I:function(){return l}});var t=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,a)=>{let{className:r,type:s,...l}=e;return(0,t.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...l})});l.displayName="Input"},3578:function(e,a,r){"use strict";r.d(a,{RM:function(){return o},SC:function(){return d},iA:function(){return l},pj:function(){return u},ss:function(){return c},xD:function(){return i}});var t=r(7437),s=r(2265),n=r(4508);let l=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let i=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody",s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let d=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});d.displayName="TableRow";let c=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("th",{ref:a,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let u=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("td",{ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},1569:function(e,a,r){"use strict";r.d(a,{CampaignProvider:function(){return l},y:function(){return i}});var t=r(7437),s=r(2265);let n=(0,s.createContext)(void 0);function l(e){let{children:a,initialEntries:r}=e,[l,i]=(0,s.useState)(r);return(0,t.jsx)(n.Provider,{value:{entries:l,setEntries:i},children:a})}function i(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useCampaign must be used within a CampaignProvider");return e}},4508:function(e,a,r){"use strict";r.d(a,{cn:function(){return n},y:function(){return l}});var t=r(1994),s=r(3335);function n(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.m6)((0,t.W)(a))}function l(e){return e.split(" ").map((e,a,r)=>a===r.length-1?e[0]+".":e).join(" ")}}},function(e){e.O(0,[137,210,648,407,971,117,744],function(){return e(e.s=2330)}),_N_E=e.O()}]);